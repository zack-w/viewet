<?php	if( !defined( "IN_VIEWIT" ) )	{		die("Access deined!");	}	global $DB, $User;		if( $User->isGuest() )	{		$User->setMessage("You need to be logged in to do that!");	}else{		$_GET['area'] = 'profile';				$updatePassword = ( $_POST['password'] != "empty" )?( 1 ):( 0 );				$newPass = $_POST[ 'password' ];		$newPassConf = $_POST[ 'passwordConf' ];		$newEmail = $_POST[ 'emailconf' ];				if( ( strlen( $newPass ) < 7 || 32 < strlen( $newPass ) ) && $updatePassword == 1 )		{			$User->setMessage( "Your new password must be more then 6 characters and less then 32!" );		}elseif( strlen( $newEmail ) < 7 || strlen( $newEmail ) > 28 ){			$User->setMessage( "Your new email must be more then 7 characters and less then 28!" );		}else{			if( $updatePassword == 1 )			{				if( $newPassConf != $newPass )				{					$User->setMessage( "The two passwords entered don't match!" );				}else{					$User->updatePassword( $newPass );					$User->updateEmail( $newEmail );										$User->setMessage( "Your email and password have been updated!", 2  );				}			}else{				$User->updateEmail( $newEmail );									$User->setMessage( "Your email has been updated!", 2  );			}		}	}	?>